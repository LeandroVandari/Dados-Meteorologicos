<!DOCTYPE html>
<html>

<head>
  <title>Previsor de enchentes</title>
  <link rel="stylesheet" href="styles.css">
  <!-- Include eel.js - note this file doesn't exist in the 'web' directory -->
  <script type="text/javascript" src="/eel.js"></script>
  <script type="text/javascript">
    async function selectFolder() {
      pasta = await eel.requisitar_pasta()();
      return pasta;
    }
    function nomear_texto_com_pasta_requisitada(id) {
      selectFolder().then(function (nome) { document.getElementById(id).innerText = `(${nome})` });

    }

    function treinar() {
      document.getElementById("treinamento").innerText = "Treinando...";
      eel.treinar()().then(function (a) { 
        document.getElementById("treinamento").innerText = "Treinamento completo!";
        document.getElementById("salvar").removeAttribute("disabled")
       })
    }

    function salvar() {
      document.getElementById("salvamento").innerText = "Salvando...";
      eel.salvar()().then(function (a) { 
        document.getElementById("salvamento").innerText = "Salvamento completo!";
       })
    }

  </script>

</head>

<body>
  <div style="display:inline-block;vertical-align:top;">
    <img src="icon.svg" width="100">
  </div>
  <div style="display:inline-block;">
    <div>
      <h1 class="cores" id="title">Previsor de enchentes</h1>
    </div>
  </div>
  <div style="text-align: left;">
    <label class="text" for="carregar_pasta">Selecione a pasta com os dados:</label>
    <button type="button" class="cores botao" onclick="nomear_texto_com_pasta_requisitada('pasta')">Selecionar</button>
    <label id="pasta"></label>
  </div>
  <p class="text" id="treinamento"></p>
  <p class="text" id="salvamento"></p>

  <button id="salvar" type="button" class="cores botao opcoes" onclick="salvar()" disabled>Salvar</button>
  <button style="left: 100px;" type="button" class="cores botao opcoes" onclick="treinar()">Treinar</button>
  <a style="width: 60pt; position: absolute; bottom: 10px; left: 190px; height: 17pt;" class="cores botao"
    href="executar.html">Executar</a>
</body>


</html>